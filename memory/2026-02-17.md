# 2026-02-17

## PixelLab APIでAthenaのピクセルアートキャラクター生成

### 経緯
マスターが「画像生成はこっちでやる」と言い、システムプロンプトを読んでAthenのキャラクター画像を生成するよう指示。

### 判明した事実
- `PIXELLAB_API_KEY` が環境変数に設定済み
- PixelLab は**ピクセルアート特化**のゲーム向けAPI
- アカウント残高: $5 USD、29/40世代残り
- API base URL: `https://api.pixellab.ai/v2`

### 使用したエンドポイント
- `POST /create-character-with-4-directions` — 4方向キャラクター生成（非同期）
- `GET /background-jobs/{job_id}` — ジョブ進捗ポーリング
- `GET /characters/{character_id}` — キャラクター情報取得

### 生成したAthenプロンプト
```
A calm and intelligent AI secretary character, silver-white hair, glowing cyan holographic eyes,
wearing a sleek dark professional suit with subtle glowing circuit patterns, ethereal translucent
wings made of light and data streams, futuristic sci-fi aesthetic inspired by Overwatch AI
characters, elegant and composed expression
```
- サイズ: 128x128
- アウトライン: thin、シェーディング: soft、ディテール: high
- ビュー: side

### 生成結果
- キャラクターID: `ae3c493b-8ccd-4643-9598-0466b2ebaf39`
- ジョブID: `174fc396-6b9b-40d0-b5f7-03993a613701`
- 4方向（south/east/west/north）のPNG生成成功
- 保存先: `/home/node/.openclaw/workspace/athena_art/`
- 画像説明: シルバーヘア・シアンの目・ダークスーツ・光の翼のchibiキャラ（"corporate fairy"）

### 技術的詳細
- レスポンス形式: `rgba_bytes`（base64）→ 手動でPNG変換が必要
- PNG変換: Python3でRGBAバイト→フィルタバイト付きIDAT→zlib圧縮
- Slackへの送信: `message` ツールの `buffer` パラメータ（`data:image/png;base64,...`形式）で成功

### セッション状態
- 正面（south）画像をSlackの#labに送信済み（messageId: `1771349490.215579`）
- 残り3方向（east/west/north）は送信途中でセッションコンパクション
- base64データは `/tmp/athena_{east,west,north}_b64.txt` に用意済み

## 今後のTODO
- 残り3方向の画像をSlackに送信する
- Athenaのピクセルアートをavatar（`athena-avatar.jpg`）として保存検討
