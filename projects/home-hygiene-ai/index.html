<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HomeHygiene AI - æƒé™¤ã‚³ãƒ¼ãƒ</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            forest: {
              50: '#f0fdf4',
              100: '#dcfce7',
              200: '#bbf7d0',
              300: '#95d5b2',
              400: '#40916c',
              500: '#2d6a4f',
              600: '#1b4332',
              700: '#0f2b1e',
            },
            cream: '#f8fdf9',
            bark: '#3d3226',
            sand: '#a8998a',
          },
          fontFamily: {
            heading: ['"DM Sans"', '"Noto Sans JP"', 'sans-serif'],
            body: ['"DM Sans"', '"Noto Sans JP"', 'sans-serif'],
          },
        }
      }
    }
  </script>

  <style>
    body {
      font-feature-settings: "palt" 1;
      -webkit-font-smoothing: antialiased;
    }

    .phone-frame {
      width: 390px;
      height: 844px;
      border-radius: 40px;
      box-shadow:
        0 0 0 2px #1a1a1a,
        0 0 0 6px #2a2a2a,
        0 0 0 8px #1a1a1a,
        0 25px 60px rgba(0,0,0,0.25);
      position: relative;
      overflow: hidden;
    }

    .phone-frame::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 130px;
      height: 28px;
      background: #1a1a1a;
      border-radius: 0 0 18px 18px;
      z-index: 50;
    }

    .screen-content {
      height: calc(100% - 80px);
      overflow-y: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .screen-content::-webkit-scrollbar { display: none; }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    .streak-ring {
      background: conic-gradient(#2d6a4f 0deg, #2d6a4f calc(var(--progress) * 3.6deg), #e5e7eb calc(var(--progress) * 3.6deg));
      border-radius: 50%;
      padding: 4px;
    }
    .streak-ring-inner {
      background: white;
      border-radius: 50%;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .risk-meter {
      height: 6px;
      border-radius: 3px;
      background: #e5e7eb;
      overflow: hidden;
    }
    .risk-meter-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.8s ease;
    }

    .card-done {
      opacity: 0.5;
      transform: scale(0.98);
    }

    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-40px) rotate(360deg); opacity: 0; }
    }
    .confetti-pop {
      animation: confetti 0.6s ease-out forwards;
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .slide-up {
      animation: slideUp 0.4s ease-out forwards;
    }
    .slide-up-delay-1 { animation-delay: 0.1s; opacity: 0; }
    .slide-up-delay-2 { animation-delay: 0.2s; opacity: 0; }
    .slide-up-delay-3 { animation-delay: 0.3s; opacity: 0; }

    .toggle-switch {
      width: 48px;
      height: 28px;
      background: #d1d5db;
      border-radius: 14px;
      position: relative;
      cursor: pointer;
      transition: background 0.3s;
    }
    .toggle-switch.on { background: #2d6a4f; }
    .toggle-switch::after {
      content: '';
      width: 22px;
      height: 22px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 3px;
      left: 3px;
      transition: transform 0.3s;
      box-shadow: 0 1px 3px rgba(0,0,0,0.15);
    }
    .toggle-switch.on::after { transform: translateX(20px); }

    .place-chip {
      transition: all 0.2s;
    }
    .place-chip:active {
      transform: scale(0.95);
    }
    .place-chip.selected {
      background: #2d6a4f !important;
      color: white !important;
      border-color: #2d6a4f !important;
    }

    .expandable-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    .expandable-content.open {
      max-height: 500px;
    }

    .btn-complete {
      transition: all 0.2s;
    }
    .btn-complete:active {
      transform: scale(0.93);
    }
  </style>
</head>

<body class="font-body bg-stone-100 min-h-screen flex items-center justify-center p-8">

  <!-- Desktop wrapper -->
  <div class="flex flex-col lg:flex-row items-center gap-12">

    <!-- App Info (å·¦å´) -->
    <div class="max-w-sm text-center lg:text-left">
      <div class="inline-flex items-center gap-2 bg-forest-500/10 text-forest-500 text-xs font-semibold px-3 py-1.5 rounded-full mb-4">
        <span>MVP MOCK</span>
      </div>
      <h1 class="font-heading font-bold text-3xl text-bark mb-3" style="line-height:1.3">
        HomeHygiene AI
      </h1>
      <p class="text-sand text-sm mb-6" style="line-height:1.8">
        ä½•ã‚’æƒé™¤ã™ã‚Œã°ã„ã„ã‹ã€ã‚‚ã†æ‚©ã¾ãªã„ã€‚<br>
        AIææ¡ˆå‹ã®æƒé™¤ã‚³ãƒ¼ãƒã‚¢ãƒ—ãƒªã€‚<br>
        ä½¿ç”¨é »åº¦ãƒ»æœ€çµ‚æƒé™¤æ—¥ãƒ»å¥åº·ãƒªã‚¹ã‚¯ã‹ã‚‰<br>
        ä»Šæ—¥ã‚„ã‚‹ã¹ãæƒé™¤ã‚’ã‚¹ãƒãƒ¼ãƒˆã«ææ¡ˆã—ã¾ã™ã€‚
      </p>
      <div class="flex flex-wrap gap-2 justify-center lg:justify-start">
        <span class="text-[11px] px-2.5 py-1 rounded-full border border-stone-300 text-stone-500">React Native</span>
        <span class="text-[11px] px-2.5 py-1 rounded-full border border-stone-300 text-stone-500">Supabase</span>
        <span class="text-[11px] px-2.5 py-1 rounded-full border border-stone-300 text-stone-500">Expo</span>
        <span class="text-[11px] px-2.5 py-1 rounded-full border border-stone-300 text-stone-500">Firebase</span>
      </div>
    </div>

    <!-- Phone Mock -->
    <div class="phone-frame bg-cream">

      <!-- Status Bar -->
      <div class="flex items-center justify-between px-8 pt-14 pb-2 bg-cream relative z-40">
        <span class="text-xs font-semibold text-forest-600">9:41</span>
        <div class="flex items-center gap-1.5">
          <svg class="w-4 h-4 text-forest-600" fill="currentColor" viewBox="0 0 24 24"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
          <svg class="w-4 h-4 text-forest-600" fill="currentColor" viewBox="0 0 24 24"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
        </div>
      </div>

      <!-- Screen Content -->
      <div class="screen-content bg-cream" id="screenContent">

        <!-- ===== HOME TAB ===== -->
        <div class="tab-content active" id="tab-home">
          <div class="px-6 pb-6">

            <!-- Header -->
            <div class="flex items-center justify-between mb-6">
              <div>
                <p class="text-xs text-forest-400 mb-0.5">2æœˆ17æ—¥ï¼ˆæœˆï¼‰</p>
                <h2 class="font-heading font-bold text-xl text-forest-700">ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™</h2>
              </div>
              <div class="streak-ring w-14 h-14" style="--progress: 71">
                <div class="streak-ring-inner">
                  <div class="text-center">
                    <span class="text-forest-500 font-bold text-sm leading-none block">5</span>
                    <span class="text-[8px] text-forest-400 leading-none">æ—¥é€£ç¶š</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Weekly Progress -->
            <div class="bg-white rounded-2xl p-4 mb-6 border border-forest-100">
              <div class="flex items-center justify-between mb-3">
                <span class="text-xs font-semibold text-forest-600">ä»Šé€±ã®é€²æ—</span>
                <span class="text-[10px] text-forest-400">5 / 7 ç®‡æ‰€å®Œäº†</span>
              </div>
              <div class="flex gap-1.5">
                <div class="flex-1 h-2 rounded-full bg-forest-400"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-400"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-400"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-400"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-400"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-200"></div>
                <div class="flex-1 h-2 rounded-full bg-forest-200"></div>
              </div>
              <div class="flex justify-between mt-2">
                <span class="text-[9px] text-stone-400">æœˆ</span>
                <span class="text-[9px] text-stone-400">ç«</span>
                <span class="text-[9px] text-stone-400">æ°´</span>
                <span class="text-[9px] text-stone-400">æœ¨</span>
                <span class="text-[9px] text-stone-400">é‡‘</span>
                <span class="text-[9px] text-stone-400">åœŸ</span>
                <span class="text-[9px] text-stone-400">æ—¥</span>
              </div>
            </div>

            <!-- Today's Recommendations -->
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-heading font-semibold text-sm text-forest-700">ä»Šæ—¥ã®ãŠã™ã™ã‚æƒé™¤</h3>
              <span class="text-[10px] text-forest-400 bg-forest-50 px-2 py-0.5 rounded-full">TOP 3</span>
            </div>

            <!-- Recommendation Card 1 -->
            <div class="bg-white rounded-2xl p-4 mb-3 border border-forest-100 slide-up slide-up-delay-1" id="card-1">
              <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center text-lg">
                    ğŸš¿
                  </div>
                  <div>
                    <h4 class="font-semibold text-sm text-forest-700">æ’æ°´æº</h4>
                    <p class="text-[11px] text-stone-400">ãƒã‚¹ãƒ«ãƒ¼ãƒ </p>
                  </div>
                </div>
                <div class="flex flex-col items-end">
                  <span class="text-[10px] font-semibold text-red-500 bg-red-50 px-2 py-0.5 rounded-full">å„ªå…ˆåº¦ é«˜</span>
                </div>
              </div>
              <div class="flex items-center gap-4 mb-3">
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-stone-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                  <span class="text-[11px] text-stone-500">14æ—¥å‰ã«æƒé™¤</span>
                </div>
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/></svg>
                  <span class="text-[11px] text-red-500">é›‘èŒãƒªã‚¹ã‚¯</span>
                </div>
              </div>
              <button class="btn-complete w-full py-2.5 rounded-xl bg-forest-500 text-white text-sm font-semibold hover:bg-forest-600 transition" onclick="completeTask(this, 'card-1')">
                æƒé™¤å®Œäº†
              </button>
            </div>

            <!-- Recommendation Card 2 -->
            <div class="bg-white rounded-2xl p-4 mb-3 border border-forest-100 slide-up slide-up-delay-2" id="card-2">
              <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center text-lg">
                    ğŸ³
                  </div>
                  <div>
                    <h4 class="font-semibold text-sm text-forest-700">ã‚³ãƒ³ãƒ­å‘¨ã‚Š</h4>
                    <p class="text-[11px] text-stone-400">ã‚­ãƒƒãƒãƒ³</p>
                  </div>
                </div>
                <div class="flex flex-col items-end">
                  <span class="text-[10px] font-semibold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full">å„ªå…ˆåº¦ ä¸­</span>
                </div>
              </div>
              <div class="flex items-center gap-4 mb-3">
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-stone-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                  <span class="text-[11px] text-stone-500">7æ—¥å‰ã«æƒé™¤</span>
                </div>
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"/></svg>
                  <span class="text-[11px] text-amber-600">æ²¹æ±šã‚Œè“„ç©</span>
                </div>
              </div>
              <button class="btn-complete w-full py-2.5 rounded-xl bg-forest-500 text-white text-sm font-semibold hover:bg-forest-600 transition" onclick="completeTask(this, 'card-2')">
                æƒé™¤å®Œäº†
              </button>
            </div>

            <!-- Recommendation Card 3 -->
            <div class="bg-white rounded-2xl p-4 mb-3 border border-forest-100 slide-up slide-up-delay-3" id="card-3">
              <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-sky-50 flex items-center justify-center text-lg">
                    â„ï¸
                  </div>
                  <div>
                    <h4 class="font-semibold text-sm text-forest-700">ã‚¨ã‚¢ã‚³ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</h4>
                    <p class="text-[11px] text-stone-400">ãƒªãƒ“ãƒ³ã‚°</p>
                  </div>
                </div>
                <div class="flex flex-col items-end">
                  <span class="text-[10px] font-semibold text-sky-600 bg-sky-50 px-2 py-0.5 rounded-full">å„ªå…ˆåº¦ ä½</span>
                </div>
              </div>
              <div class="flex items-center gap-4 mb-3">
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-stone-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                  <span class="text-[11px] text-stone-500">25æ—¥å‰ã«æƒé™¤</span>
                </div>
                <div class="flex items-center gap-1">
                  <svg class="w-3.5 h-3.5 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                  <span class="text-[11px] text-sky-600">ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ³¨æ„</span>
                </div>
              </div>
              <button class="btn-complete w-full py-2.5 rounded-xl bg-forest-500 text-white text-sm font-semibold hover:bg-forest-600 transition" onclick="completeTask(this, 'card-3')">
                æƒé™¤å®Œäº†
              </button>
            </div>

            <!-- Milestone -->
            <div class="bg-forest-50 rounded-2xl p-4 mt-2 border border-forest-100">
              <div class="flex items-center gap-3">
                <div class="text-2xl">ğŸ¯</div>
                <div>
                  <p class="text-xs font-semibold text-forest-600">ã‚ã¨2ç®‡æ‰€ã§ä»Šé€±ã®ç›®æ¨™é”æˆ!</p>
                  <p class="text-[10px] text-forest-400 mt-0.5">7æ—¥é€£ç¶šã§ç‰¹åˆ¥ãƒãƒƒã‚¸ã‚’ç²å¾—ã§ãã¾ã™</p>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- ===== PLACES TAB ===== -->
        <div class="tab-content" id="tab-places">
          <div class="px-6 pb-6">

            <h2 class="font-heading font-bold text-xl text-forest-700 mb-1">æƒé™¤å ´æ‰€</h2>
            <p class="text-xs text-forest-400 mb-5">éƒ¨å±‹ã”ã¨ã«æƒé™¤å ´æ‰€ã‚’ç®¡ç†ã—ã¾ã™</p>

            <!-- Kitchen -->
            <div class="mb-3">
              <button class="w-full flex items-center justify-between bg-white rounded-2xl p-4 border border-forest-100" onclick="toggleExpand('kitchen')">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center text-lg">ğŸ½ï¸</div>
                  <div class="text-left">
                    <h4 class="font-semibold text-sm text-forest-700">ã‚­ãƒƒãƒãƒ³</h4>
                    <p class="text-[10px] text-stone-400">3ç®‡æ‰€ç™»éŒ²æ¸ˆã¿</p>
                  </div>
                </div>
                <svg class="w-5 h-5 text-stone-400 transition-transform" id="arrow-kitchen" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="expandable-content" id="expand-kitchen">
                <div class="bg-white mx-2 rounded-b-2xl border-x border-b border-forest-100 px-4 pb-4 pt-2">
                  <div class="space-y-2.5">
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-red-400"></span>
                        <span class="text-sm text-forest-700">æ’æ°´æº</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±1å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-amber-400"></span>
                        <span class="text-sm text-forest-700">ã‚³ãƒ³ãƒ­</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±1å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-400"></span>
                        <span class="text-sm text-forest-700">å†·è”µåº«</span>
                      </div>
                      <span class="text-[10px] text-stone-400">æœˆ1å›æ¨å¥¨</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Bathroom -->
            <div class="mb-3">
              <button class="w-full flex items-center justify-between bg-white rounded-2xl p-4 border border-forest-100" onclick="toggleExpand('bath')">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-sky-50 flex items-center justify-center text-lg">ğŸ›</div>
                  <div class="text-left">
                    <h4 class="font-semibold text-sm text-forest-700">ãƒã‚¹ãƒ«ãƒ¼ãƒ </h4>
                    <p class="text-[10px] text-stone-400">3ç®‡æ‰€ç™»éŒ²æ¸ˆã¿</p>
                  </div>
                </div>
                <svg class="w-5 h-5 text-stone-400 transition-transform" id="arrow-bath" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="expandable-content" id="expand-bath">
                <div class="bg-white mx-2 rounded-b-2xl border-x border-b border-forest-100 px-4 pb-4 pt-2">
                  <div class="space-y-2.5">
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-red-400"></span>
                        <span class="text-sm text-forest-700">æ’æ°´æº</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±1å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-amber-400"></span>
                        <span class="text-sm text-forest-700">æµ´æ§½</span>
                      </div>
                      <span class="text-[10px] text-stone-400">æ¯æ—¥æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-amber-400"></span>
                        <span class="text-sm text-forest-700">é¡</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±1å›æ¨å¥¨</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Living Room -->
            <div class="mb-3">
              <button class="w-full flex items-center justify-between bg-white rounded-2xl p-4 border border-forest-100" onclick="toggleExpand('living')">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center text-lg">ğŸ›‹ï¸</div>
                  <div class="text-left">
                    <h4 class="font-semibold text-sm text-forest-700">ãƒªãƒ“ãƒ³ã‚°</h4>
                    <p class="text-[10px] text-stone-400">3ç®‡æ‰€ç™»éŒ²æ¸ˆã¿</p>
                  </div>
                </div>
                <svg class="w-5 h-5 text-stone-400 transition-transform" id="arrow-living" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="expandable-content" id="expand-living">
                <div class="bg-white mx-2 rounded-b-2xl border-x border-b border-forest-100 px-4 pb-4 pt-2">
                  <div class="space-y-2.5">
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-400"></span>
                        <span class="text-sm text-forest-700">åºŠ</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±2å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-sky-400"></span>
                        <span class="text-sm text-forest-700">ã‚¨ã‚¢ã‚³ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</span>
                      </div>
                      <span class="text-[10px] text-stone-400">æœˆ1å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-400"></span>
                        <span class="text-sm text-forest-700">çª“</span>
                      </div>
                      <span class="text-[10px] text-stone-400">æœˆ1å›æ¨å¥¨</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Toilet -->
            <div class="mb-3">
              <button class="w-full flex items-center justify-between bg-white rounded-2xl p-4 border border-forest-100" onclick="toggleExpand('toilet')">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-violet-50 flex items-center justify-center text-lg">ğŸš½</div>
                  <div class="text-left">
                    <h4 class="font-semibold text-sm text-forest-700">ãƒˆã‚¤ãƒ¬</h4>
                    <p class="text-[10px] text-stone-400">2ç®‡æ‰€ç™»éŒ²æ¸ˆã¿</p>
                  </div>
                </div>
                <svg class="w-5 h-5 text-stone-400 transition-transform" id="arrow-toilet" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="expandable-content" id="expand-toilet">
                <div class="bg-white mx-2 rounded-b-2xl border-x border-b border-forest-100 px-4 pb-4 pt-2">
                  <div class="space-y-2.5">
                    <div class="flex items-center justify-between py-2 border-b border-stone-100">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-amber-400"></span>
                        <span class="text-sm text-forest-700">ä¾¿å™¨</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±2å›æ¨å¥¨</span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                      <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-400"></span>
                        <span class="text-sm text-forest-700">åºŠ</span>
                      </div>
                      <span class="text-[10px] text-stone-400">é€±1å›æ¨å¥¨</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Add Place Button -->
            <button class="w-full mt-2 py-3 rounded-2xl border-2 border-dashed border-forest-200 text-forest-400 text-sm font-medium flex items-center justify-center gap-2 hover:border-forest-300 hover:text-forest-500 transition" onclick="showAddModal()">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/></svg>
              ã‚«ã‚¹ã‚¿ãƒ å ´æ‰€ã‚’è¿½åŠ 
            </button>

          </div>
        </div>

        <!-- ===== RISK TAB ===== -->
        <div class="tab-content" id="tab-risk">
          <div class="px-6 pb-6">

            <h2 class="font-heading font-bold text-xl text-forest-700 mb-1">å¥åº·ãƒªã‚¹ã‚¯</h2>
            <p class="text-xs text-forest-400 mb-5">æ”¾ç½®ã«ã‚ˆã‚‹è¡›ç”Ÿãƒªã‚¹ã‚¯ã‚’å¯è¦–åŒ–ã—ã¾ã™</p>

            <!-- Overall Score -->
            <div class="bg-white rounded-2xl p-5 mb-4 border border-forest-100 text-center">
              <p class="text-[10px] text-stone-400 mb-2">ã‚ãªãŸã®å®¶ã®è¡›ç”Ÿã‚¹ã‚³ã‚¢</p>
              <div class="inline-flex items-end gap-1">
                <span class="text-5xl font-bold text-forest-500">72</span>
                <span class="text-sm text-stone-400 pb-2">/ 100</span>
              </div>
              <p class="text-xs text-forest-400 mt-1">ãŠãŠã‚€ã­è‰¯å¥½ã§ã™ãŒã€æ”¹å–„ç‚¹ãŒã‚ã‚Šã¾ã™</p>
            </div>

            <!-- Risk Card: Critical -->
            <div class="bg-white rounded-2xl p-4 mb-3 border-l-4 border-l-red-400 border border-red-100">
              <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/></svg>
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between mb-1">
                    <h4 class="font-semibold text-sm text-forest-700">ãƒã‚¹ãƒ«ãƒ¼ãƒ æ’æ°´æº</h4>
                    <span class="text-[9px] font-semibold text-red-500 bg-red-50 px-2 py-0.5 rounded-full">å±é™º</span>
                  </div>
                  <p class="text-[11px] text-stone-500 mb-2">14æ—¥é–“æ”¾ç½®</p>
                  <div class="risk-meter mb-2">
                    <div class="risk-meter-fill bg-red-400" style="width: 85%"></div>
                  </div>
                  <div class="bg-red-50 rounded-lg p-2.5">
                    <p class="text-[11px] text-red-700 leading-relaxed" style="line-height:1.7">
                      âš ï¸ é›‘èŒãŒé€šå¸¸ã®<span class="font-bold">ç´„50å€</span>ã«å¢—æ®–ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ‚ªè‡­ã‚„è©°ã¾ã‚Šã®åŸå› ã«ãªã‚Šã¾ã™ã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Risk Card: Warning -->
            <div class="bg-white rounded-2xl p-4 mb-3 border-l-4 border-l-amber-400 border border-amber-100">
              <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between mb-1">
                    <h4 class="font-semibold text-sm text-forest-700">ã‚¨ã‚¢ã‚³ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</h4>
                    <span class="text-[9px] font-semibold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full">æ³¨æ„</span>
                  </div>
                  <p class="text-[11px] text-stone-500 mb-2">25æ—¥é–“æ”¾ç½®</p>
                  <div class="risk-meter mb-2">
                    <div class="risk-meter-fill bg-amber-400" style="width: 55%"></div>
                  </div>
                  <div class="bg-amber-50 rounded-lg p-2.5">
                    <p class="text-[11px] text-amber-700 leading-relaxed" style="line-height:1.7">
                      âš ï¸ ã‚«ãƒ“ã‚„ãƒ€ãƒ‹ã®æ¸©åºŠã«ã€‚<span class="font-bold">ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ç—‡çŠ¶</span>ãŒæ‚ªåŒ–ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Risk Card: OK -->
            <div class="bg-white rounded-2xl p-4 mb-3 border-l-4 border-l-forest-300 border border-forest-100">
              <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-forest-50 flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-forest-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between mb-1">
                    <h4 class="font-semibold text-sm text-forest-700">ã‚­ãƒƒãƒãƒ³ã‚³ãƒ³ãƒ­</h4>
                    <span class="text-[9px] font-semibold text-forest-500 bg-forest-50 px-2 py-0.5 rounded-full">è‰¯å¥½</span>
                  </div>
                  <p class="text-[11px] text-stone-500 mb-2">7æ—¥å‰ã«æƒé™¤æ¸ˆã¿</p>
                  <div class="risk-meter">
                    <div class="risk-meter-fill bg-forest-300" style="width: 25%"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Source Note -->
            <div class="mt-4 px-3">
              <p class="text-[10px] text-stone-400 text-center" style="line-height:1.6">
                ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: åšç”ŸåŠ´åƒçœã€å›½ç«‹æ„ŸæŸ“ç—‡ç ”ç©¶æ‰€ã€<br>æƒé™¤æ¥­è€…ã®çŸ¥è¦‹ã‚’ã‚‚ã¨ã«ã—ãŸå‚è€ƒå€¤ã§ã™
              </p>
            </div>

          </div>
        </div>

        <!-- ===== SETTINGS TAB ===== -->
        <div class="tab-content" id="tab-settings">
          <div class="px-6 pb-6">

            <h2 class="font-heading font-bold text-xl text-forest-700 mb-1">è¨­å®š</h2>
            <p class="text-xs text-forest-400 mb-5">é€šçŸ¥ã¨ã‚¢ãƒ—ãƒªã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™</p>

            <!-- Notification Settings -->
            <div class="bg-white rounded-2xl border border-forest-100 mb-4 overflow-hidden">
              <div class="px-4 py-3 bg-forest-50 border-b border-forest-100">
                <h3 class="text-xs font-semibold text-forest-600">é€šçŸ¥è¨­å®š</h3>
              </div>

              <div class="divide-y divide-stone-100">
                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">æ¯æœã®æƒé™¤ææ¡ˆ</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">æ¯æœãŠã™ã™ã‚TOP3ã‚’é€šçŸ¥ã—ã¾ã™</p>
                  </div>
                  <div class="toggle-switch on" onclick="toggleSwitch(this)"></div>
                </div>

                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">é€šçŸ¥æ™‚åˆ»</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">ãŠã™ã™ã‚é€šçŸ¥ã‚’å—ã‘å–ã‚‹æ™‚é–“</p>
                  </div>
                  <div class="flex items-center gap-1 bg-forest-50 rounded-lg px-3 py-1.5">
                    <span class="text-sm font-semibold text-forest-600">8:00</span>
                  </div>
                </div>

                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">å¥åº·ãƒªã‚¹ã‚¯ã‚¢ãƒ©ãƒ¼ãƒˆ</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">ãƒªã‚¹ã‚¯ãŒé«˜ã¾ã£ãŸå ´æ‰€ã‚’é€šçŸ¥</p>
                  </div>
                  <div class="toggle-switch on" onclick="toggleSwitch(this)"></div>
                </div>

                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">ã‚¹ãƒˆãƒªãƒ¼ã‚¯å¿œæ´</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">é€£ç¶šè¨˜éŒ²ãŒé€”åˆ‡ã‚Œãã†ãªæ™‚ã«é€šçŸ¥</p>
                  </div>
                  <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
                </div>
              </div>
            </div>

            <!-- Frequency Settings -->
            <div class="bg-white rounded-2xl border border-forest-100 mb-4 overflow-hidden">
              <div class="px-4 py-3 bg-forest-50 border-b border-forest-100">
                <h3 class="text-xs font-semibold text-forest-600">ææ¡ˆã®èª¿æ•´</h3>
              </div>

              <div class="divide-y divide-stone-100">
                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">1æ—¥ã®ææ¡ˆæ•°</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">ãŠã™ã™ã‚ã«è¡¨ç¤ºã™ã‚‹ä»¶æ•°</p>
                  </div>
                  <div class="flex items-center gap-2">
                    <button class="w-7 h-7 rounded-lg bg-stone-100 text-stone-500 text-xs font-bold flex items-center justify-center">âˆ’</button>
                    <span class="text-sm font-semibold text-forest-600 w-4 text-center">3</span>
                    <button class="w-7 h-7 rounded-lg bg-forest-100 text-forest-600 text-xs font-bold flex items-center justify-center">+</button>
                  </div>
                </div>

                <div class="flex items-center justify-between px-4 py-3.5">
                  <div>
                    <p class="text-sm text-forest-700">å¥åº·ãƒªã‚¹ã‚¯é‡è¦–</p>
                    <p class="text-[10px] text-stone-400 mt-0.5">å¥åº·ãƒªã‚¹ã‚¯ã®é«˜ã„å ´æ‰€ã‚’å„ªå…ˆ</p>
                  </div>
                  <div class="toggle-switch on" onclick="toggleSwitch(this)"></div>
                </div>
              </div>
            </div>

            <!-- Account -->
            <div class="bg-white rounded-2xl border border-forest-100 overflow-hidden">
              <div class="px-4 py-3 bg-forest-50 border-b border-forest-100">
                <h3 class="text-xs font-semibold text-forest-600">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</h3>
              </div>

              <div class="divide-y divide-stone-100">
                <div class="flex items-center justify-between px-4 py-3.5">
                  <p class="text-sm text-forest-700">ãƒ—ãƒ©ãƒ³</p>
                  <span class="text-xs font-semibold text-forest-500 bg-forest-50 px-2.5 py-1 rounded-full">Free</span>
                </div>
                <div class="px-4 py-3.5">
                  <button class="w-full py-2.5 rounded-xl bg-forest-500 text-white text-sm font-semibold">
                    Pro ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ Â¥499/æœˆ
                  </button>
                  <p class="text-[10px] text-stone-400 text-center mt-2">ç„¡åˆ¶é™ã®è¨˜éŒ² + AIææ¡ˆ + å®¶æ—å…±æœ‰</p>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>

      <!-- Bottom Navigation -->
      <div class="absolute bottom-0 left-0 right-0 bg-white border-t border-forest-100 flex items-center justify-around py-2 pb-6 z-40">
        <button class="flex flex-col items-center gap-0.5 px-3 py-1 nav-btn active" data-tab="home" onclick="switchTab('home')">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
          <span class="text-[10px] font-medium">ãƒ›ãƒ¼ãƒ </span>
        </button>
        <button class="flex flex-col items-center gap-0.5 px-3 py-1 nav-btn" data-tab="places" onclick="switchTab('places')">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          <span class="text-[10px] font-medium">å ´æ‰€</span>
        </button>
        <button class="flex flex-col items-center gap-0.5 px-3 py-1 nav-btn" data-tab="risk" onclick="switchTab('risk')">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
          <span class="text-[10px] font-medium">ãƒªã‚¹ã‚¯</span>
        </button>
        <button class="flex flex-col items-center gap-0.5 px-3 py-1 nav-btn" data-tab="settings" onclick="switchTab('settings')">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          <span class="text-[10px] font-medium">è¨­å®š</span>
        </button>
      </div>

    </div>
  </div>

  <!-- Add Place Modal -->
  <div class="fixed inset-0 bg-black/40 flex items-end justify-center z-50 hidden" id="addModal">
    <div class="bg-white rounded-t-3xl w-full max-w-[390px] p-6 pb-10">
      <div class="w-10 h-1 rounded-full bg-stone-300 mx-auto mb-4"></div>
      <h3 class="font-heading font-bold text-lg text-forest-700 mb-4">ã‚«ã‚¹ã‚¿ãƒ å ´æ‰€ã‚’è¿½åŠ </h3>

      <div class="mb-4">
        <label class="text-xs text-forest-600 font-semibold mb-1.5 block">éƒ¨å±‹ã‚’é¸æŠ</label>
        <div class="flex flex-wrap gap-2">
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">ã‚­ãƒƒãƒãƒ³</button>
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">ãƒªãƒ“ãƒ³ã‚°</button>
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">ãƒã‚¹ãƒ«ãƒ¼ãƒ </button>
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">ãƒˆã‚¤ãƒ¬</button>
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">å¯å®¤</button>
          <button class="place-chip text-xs px-3 py-1.5 rounded-full border border-forest-200 text-forest-500" onclick="selectChip(this)">ç„é–¢</button>
        </div>
      </div>

      <div class="mb-4">
        <label class="text-xs text-forest-600 font-semibold mb-1.5 block">å ´æ‰€ã®åå‰ <span class="text-red-400">å¿…é ˆ</span></label>
        <input type="text" placeholder="ä¾‹ï¼‰çª“ã‚¬ãƒ©ã‚¹ã€ãƒ™ãƒ©ãƒ³ãƒ€" class="w-full px-4 py-2.5 rounded-xl border border-forest-200 text-sm text-forest-700 focus:outline-none focus:border-forest-400 focus:ring-1 focus:ring-forest-200">
      </div>

      <div class="mb-6">
        <label class="text-xs text-forest-600 font-semibold mb-1.5 block">æ¨å¥¨é »åº¦</label>
        <select class="w-full px-4 py-2.5 rounded-xl border border-forest-200 text-sm text-forest-700 focus:outline-none focus:border-forest-400 bg-white">
          <option>æ¯æ—¥</option>
          <option>é€±1å›</option>
          <option selected>é€±2å›</option>
          <option>æœˆ1å›</option>
          <option>æœˆ2å›</option>
        </select>
      </div>

      <div class="flex gap-3">
        <button class="flex-1 py-2.5 rounded-xl border border-forest-200 text-forest-500 text-sm font-semibold" onclick="hideAddModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="flex-1 py-2.5 rounded-xl bg-forest-500 text-white text-sm font-semibold" onclick="hideAddModal()">è¿½åŠ ã™ã‚‹</button>
      </div>
    </div>
  </div>

  <script>
    // Tab switching
    function switchTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      document.getElementById('tab-' + tabName).classList.add('active');

      document.querySelectorAll('.nav-btn').forEach(btn => {
        const isActive = btn.dataset.tab === tabName;
        btn.classList.toggle('active', isActive);
        btn.querySelector('svg').style.color = isActive ? '#2d6a4f' : '#a8998a';
        btn.querySelector('span').style.color = isActive ? '#2d6a4f' : '#a8998a';
      });

      document.getElementById('screenContent').scrollTop = 0;
    }

    // Initialize nav colors
    document.querySelectorAll('.nav-btn').forEach(btn => {
      const isActive = btn.classList.contains('active');
      btn.querySelector('svg').style.color = isActive ? '#2d6a4f' : '#a8998a';
      btn.querySelector('span').style.color = isActive ? '#2d6a4f' : '#a8998a';
    });

    // Complete task
    function completeTask(btn, cardId) {
      const card = document.getElementById(cardId);
      btn.innerHTML = '<span class="confetti-pop inline-block">âœ“</span> å®Œäº†!';
      btn.disabled = true;
      btn.classList.remove('bg-forest-500', 'hover:bg-forest-600');
      btn.classList.add('bg-stone-300', 'cursor-default');
      card.classList.add('card-done');
    }

    // Toggle expand
    function toggleExpand(section) {
      const content = document.getElementById('expand-' + section);
      const arrow = document.getElementById('arrow-' + section);
      content.classList.toggle('open');
      arrow.style.transform = content.classList.contains('open') ? 'rotate(180deg)' : '';
    }

    // Toggle switch
    function toggleSwitch(el) {
      el.classList.toggle('on');
    }

    // Modal
    function showAddModal() {
      document.getElementById('addModal').classList.remove('hidden');
    }
    function hideAddModal() {
      document.getElementById('addModal').classList.add('hidden');
    }

    // Chip selection
    function selectChip(el) {
      el.closest('.flex').querySelectorAll('.place-chip').forEach(c => c.classList.remove('selected'));
      el.classList.add('selected');
    }
  </script>

</body>
</html>
